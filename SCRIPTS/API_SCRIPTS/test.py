dict1 = {
    "status": "OK",
    "statusId": 200,
    "data": {
        "id": 152720,
        "questionType": 7,
        "categoryId": 3922,
        "subCategoryId": 3928,
        "subTopicId": None,
        "subTopicUnitId": None,
        "difficultyLevel": 1,
        "questionStr": "Muthu Test",
        "htmlString": "<div>Muthu Test&nbsp;<img src=\"https://s3-ap-southeast-1.amazonaws.com/test-all-hirepro-files/AT/question/4f1e8a73-a538-4ec4-a563-e1e55530a782Screenshot_2025-09-22_at_3.12.18_PM.png?AWSAccessKeyId=AKIAIPKT65FIXSXQGDOQ&Signature=Ck6GRc4wOfSifBGxsLOdN08bbio%3D&Expires=1758618426\" /></div>",
        "notes": "<div>Notes..</div>",
        "noOfAttachments": 0,
        "isRevised": False,
        "questionOriginality": 0,
        "hireproQuestionId": None,
        "authorId": 5159,
        "memoryLimit": None,
        "timeLimit": None,
        "codeSize": None,
        "config": None,
        "questionId": None,
        "questionstatisticsId": None,
        "createdBy": 5159,
        "createdOn": "2025-09-23T14:31:49",
        "modifiedBy": None,
        "modifiedOn": None,
        "questionReuse": 0,
        "dataSetJson": {
            "audioQuestionDescription": {
                "audioFiles": [
                    {
                        "url": "https://s3-ap-southeast-1.amazonaws.com/test-all-hirepro-files/AT/common/6c1e992a-2f6f-4594-8c9a-c0f6e7ec7ff4AudioDescription.ogg?AWSAccessKeyId=AKIAIPKT65FIXSXQGDOQ&Signature=NaAXJxyY1tBFV3gpbD9akRK41JM%3D&Expires=1758618426",
                        "isAudioPlayerVisible": False,
                        "isMultipleTimesPlayable": False
                    }
                ]
            },
            "videoQuestionDescription": {
                "videoFiles": [
                    {
                        "url": "https://s3-ap-southeast-1.amazonaws.com/test-all-hirepro-files/AT/common/cfe9c3c9-7943-4921-9265-1f5ae2d212ccvideoDescription.webm?AWSAccessKeyId=AKIAIPKT65FIXSXQGDOQ&Signature=0SvXD0MZFEXkHr9aGMnN214nsmk%3D&Expires=1758618426",
                        "isMultipleTimesPlayable": False
                    }
                ]
            }
        },
        "questionFlagId": 3,
        "statusId": 2622,
        "codingQuestionSubType": None,
        "startingDifficultyLevel": 1,
        "isPublic": False,
        "guid": "4fefe7d6-df10-489c-8455-022f5764eb5e-ep68d261f9ep_c_R4",
        "questionLabels": None,
        "isExported": False,
        "foreignQuestionDetails": {
            "foreignQuestionId": 152719,
            "foreignQuestionGuid": "eac396ca-4f3b-4bd4-ad9d-29c8a9e72063-ep68d2598aep",
            "foreignTenantAlias": "hirepro",
            "questionGuid": "eac396ca-4f3b-4bd4-ad9d-29c8a9e72063-ep68d2598aep",
            "isSynced": True
        },
        "questionTypeName": "MCQ",
        "categoryText": "Aptitude",
        "subCategoryText": "Analytical and Critical Reasoning",
        "statusText": "QA Approved",
        "questionFlagText": "Restricted",
        "createdByName": "administrator_original",
        "authorText": "administrator_original",
        "difficultyLevelName": "Low",
        "startingDifficultyLevelName": "Low",
        "isShared": False,
        "isQuestionApprovalPending": False,
        "isOldApprovalPending": False,
        "answerChoices": [
            {
                "id": 592590,
                "choice": "A",
                "answer": None,
                "htmlString": "$a",
                "marks": None,
                "noOfAttachments": 0
            },
            {
                "id": 592592,
                "choice": "B",
                "answer": None,
                "htmlString": "b",
                "marks": None,
                "noOfAttachments": 0
            },
            {
                "id": 592594,
                "choice": "C",
                "answer": None,
                "htmlString": "c",
                "marks": None,
                "noOfAttachments": 0
            },
            {
                "id": 592596,
                "choice": "D",
                "answer": None,
                "htmlString": "d",
                "marks": None,
                "noOfAttachments": 0
            }
        ],
        "answers": [
            {
                "id": 160980,
                "correctAnswer": "A",
                "htmlString": "$a",
                "languageId": None,
                "noOfAttachments": 0,
                "jsonAnswer": None
            }
        ],
        "questionAttributes": {},
        "similarQuestion": {
            "ultimateParent": None,
            "immediateParent": None
        }
    }
}
dict2 = {
    "status": "OK",
    "statusId": 200,
    "data": {
        "id": 152719,
        "questionType": 7,
        "categoryId": 3922,
        "subCategoryId": 3928,
        "subTopicId": None,
        "subTopicUnitId": None,
        "difficultyLevel": 1,
        "questionStr": "Muthu Test\n",
        "htmlString": "<div>Muthu Test&nbsp;<img src=\"https://s3.ap-southeast-1.amazonaws.com/test-all-hirepro-files/hirepro/question/4f1e8a73-a538-4ec4-a563-e1e55530a782Screenshot_2025-09-22_at_3.12.18_PM.png?AWSAccessKeyId=AKIAIPKT65FIXSXQGDOQ&Signature=jaDC8TDwrb%2FFJWCJDwLH%2BVKfn3s%3D&Expires=1758619209\" /></div>\n",
        "notes": "<div>Notes..</div>\n",
        "noOfAttachments": 0,
        "isRevised": False,
        "questionOriginality": 0,
        "hireproQuestionId": None,
        "authorId": 41501,
        "memoryLimit": None,
        "timeLimit": None,
        "codeSize": None,
        "config": None,
        "questionId": None,
        "questionstatisticsId": 94809,
        "createdBy": 1,
        "createdOn": "2025-09-23T13:55:52",
        "modifiedBy": None,
        "modifiedOn": None,
        "questionReuse": 0,
        "dataSetJson": {
            "audioQuestionDescription": {
                "audioFiles": [
                    {
                        "url": "https://s3.ap-southeast-1.amazonaws.com/test-all-hirepro-files/hirepro/common/6c1e992a-2f6f-4594-8c9a-c0f6e7ec7ff4AudioDescription.ogg?AWSAccessKeyId=AKIAIPKT65FIXSXQGDOQ&Signature=zhvkw%2FcyJK4I%2Fs5YBhWviLotmyg%3D&Expires=1758619209",
                        "isAudioPlayerVisible": False,
                        "isMultipleTimesPlayable": False
                    }
                ]
            },
            "videoQuestionDescription": {
                "videoFiles": [
                    {
                        "url": "https://s3.ap-southeast-1.amazonaws.com/test-all-hirepro-files/hirepro/common/cfe9c3c9-7943-4921-9265-1f5ae2d212ccvideoDescription.webm?AWSAccessKeyId=AKIAIPKT65FIXSXQGDOQ&Signature=BUGcTxc7SD0bZ6Hqco9lfozzevg%3D&Expires=1758619209",
                        "isMultipleTimesPlayable": False
                    }
                ]
            }
        },
        "questionFlagId": 3,
        "statusId": 2622,
        "codingQuestionSubType": None,
        "startingDifficultyLevel": 1,
        "isPublic": False,
        "guid": "eac396ca-4f3b-4bd4-ad9d-29c8a9e72063-ep68d2598aep",
        "questionLabels": None,
        "isExported": True,
        "questionTypeName": "MCQ",
        "categoryText": "Aptitude",
        "subCategoryText": "Analytical and Critical Reasoning",
        "statusText": "QA Approved",
        "questionFlagText": "Restricted",
        "createdByName": "admin",
        "authorText": "Maheswar Viraganaboina",
        "difficultyLevelName": "Low",
        "startingDifficultyLevelName": "Low",
        "isShared": False,
        "isQuestionApprovalPending": False,
        "isOldApprovalPending": False,
        "answerChoices": [
            {
                "id": 592583,
                "choice": "A",
                "answer": None,
                "htmlString": "$a",
                "marks": None,
                "noOfAttachments": 0
            },
            {
                "id": 592585,
                "choice": "B",
                "answer": None,
                "htmlString": "b",
                "marks": None,
                "noOfAttachments": 0
            },
            {
                "id": 592587,
                "choice": "C",
                "answer": None,
                "htmlString": "c",
                "marks": None,
                "noOfAttachments": 0
            },
            {
                "id": 592589,
                "choice": "D",
                "answer": None,
                "htmlString": "d",
                "marks": None,
                "noOfAttachments": 0
            }
        ],
        "answers": [
            {
                "id": 160979,
                "correctAnswer": "A",
                "htmlString": "$a",
                "languageId": None,
                "noOfAttachments": 0,
                "jsonAnswer": None
            }
        ],
        "questionAttributes": {
            "statistics": {
                "id": 94809,
                "totalAttempt": 0,
                "correct": 0,
                "inCorrect": 0,
                "unAttempted": 0,
                "facilityValue": 0.0,
                "itemDifficulty": 0.166665,
                "noAttendA": 0,
                "distractorIndexOfA": 0.0,
                "noAttendB": 0,
                "distractorIndexOfB": 0.0,
                "noAttendC": 0,
                "distractorIndexOfC": 0.0,
                "noAttendD": 0,
                "distractorIndexOfD": 0.0,
                "exposureRate": 0,
                "avgResponseTime": 0.0,
                "createdBy": 0,
                "createdOn": "2025-09-23T13:55:52",
                "modifiedBy": None,
                "modifiedOn": None,
                "partialCorrect": 0,
                "statisticsJson": {}
            }
        },
        "similarQuestion": {
            "ultimateParent": None,
            "immediateParent": None
        }
    }
}

def compare_structs(d1, d2, path=""):
    mismatches = []

    if isinstance(d1, dict) and isinstance(d2, dict):
        all_keys = set(d1.keys()).union(d2.keys())
        keys_to_remove = {'createdOn', 'questionstatisticsId','isExported','createdBy','createdByName','authorText',
                          'authorId','guid','foreignQuestionDetails','answerChoices','answers','id'}
        keys_to_validate_seperately = ['foreignQuestionDetails','answerChoices','answers']
        all_keys.difference_update(keys_to_remove)
        print(all_keys)
        for key in all_keys:
            new_path = f"{path}.{key}" if path else key
            if key not in d1:
                mismatches.append(f"{new_path}: Missing in dict1")
            elif key not in d2:
                mismatches.append(f"{new_path}: Missing in dict2")
            else:
                mismatches.extend(compare_structs(d1[key], d2[key], new_path))

    elif isinstance(d1, list) and isinstance(d2, list):
        print("______________________________________This is ELSEIF______________________________________")
        max_len = max(len(d1), len(d2))
        for i in range(max_len):
            new_path = f"{path}[{i}]"
            if i >= len(d1):
                mismatches.append(f"{new_path}: Missing in list1")
            elif i >= len(d2):
                mismatches.append(f"{new_path}: Missing in list2")
            else:
                mismatches.extend(compare_structs(d1[i], d2[i], new_path))

    else:
        print("______________________________________This is ELSE______________________________________")
        if d1 != d2:
            print("______________________________________This is ELSE --- IF______________________________________")
            mismatches.append(f"{path}: {repr(d1)} != {repr(d2)}")

    return mismatches


# Example usage with your data
from pprint import pprint

mismatched_items = compare_structs(dict1, dict2)

print("Mismatched values:")
pprint(mismatched_items)


